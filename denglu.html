<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <script src="jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="denglu.css">
</head>
<body>
<div class="login_box">
    <div class="login_box_content">
        <img src="images/cha.png" class="login_close">
        <!--登录切换按钮-->
        <div class="login_tog">
            <span class="active">账号登录</span>
            <span>QQ登录</span>
            <span>微信登录</span>
        </div>
        <!--登录切换显示的盒子-->
        <div class="login_tog_box">
            <div class="show">
                <form action="">
                    <div>
                        <span>请输入手机号:</span>
                        <input type="text" name="" class="input1">

                    </div>
                    <p class="phone" style="display: none">请输入正确手机号</p>
                    <p class="phone1" style="display: none">请输入手机号</p>
                    <p class="phone2" style="display: none">输入成功</p>

                    <div>
                        <span>请输入密码:</span>
                        <input type="password" name="" class="input2">
                    </div>

                    <span class="dl">登录</span>
                </form>
                <script>
                    var input=document.querySelector(".show input");

                    input.onblur=function() {
                        var reg1 = /^1(3|5|7|6|9)\d{9}$/;
                        var reg2=/\S/;

                        if (reg2.test(input.value)) {
                            // console.log("输入成功");
                            if (reg1.test(input.value)) {
                                $('.phone2').css({display: "block"})
                                $('.phone').css({display: "none"})
                                $('.phone1').css({display: "none"})

                            } else
                            {
                                $('.phone').css({display: "flex", color: "red"})
                                $('.phone1').css({display: "none"})
                                $('.phone2').css({display: "none"})
                                input.value=""
                            }
                        } else {

                            $('.phone1').css({display: "flex", color: "red"})
                            $('.phone').css({display: "none"})
                            $('.phone2').css({display: "none"})


                        }
                    }


                    $(".dl").click(function () {
                        $('.phone2').css({display: "none"})
                        $('.phone').css({display: "none"})
                        $('.phone1').css({display: "none"})

                        if($('.input1').val().length>0){

                            if($('.input2').val().length>0){
                                document.querySelector(".login_box").style.display="";
                                window.history.back();
                            }
                        }else {

                            document.querySelector(".login_box").style.display="block";

                        }

                        document.querySelector(".input1").value="";
                        document.querySelector(".input2").value="";


                    })

                </script>
            </div>
            <div>
                <form action="" class="form">
                    <div>
                        <span>请输入QQ号:</span>
                        <input type="text" name="" class="input3">

                    </div>
                    <p class="phone3" style="display: none">请输入正确QQ号</p>
                    <p class="phone4" style="display: none">请输入QQ号</p>
                    <p class="phone5" style="display: none">输入成功</p>

                    <div>
                        <span>请输入密码:</span>
                        <input type="password" name="" class="input4">
                    </div>

                    <div>
                        <span class="dl1">登录</span>
                        <span class="dl11">二维码登录</span>
                    </div>
                </form>
                <div class="er" style="opacity: 0">
                    <img src="images/er.jpg" alt="" style="" >
                    <p style="margin: 0 auto" class="dl111">账号登录</p>
                </div>

                <script>
                    var input1=document.querySelector(".input3");

                    input1.onblur=function() {
                        var reg1 = /^\+?[1-9][0-9]*$/;
                        var reg2=/\S/;

                        if (reg2.test(input1.value)) {
                            // console.log("输入成功");
                            if (reg1.test(input1.value)) {
                                $('.phone5').css({display: "block"})
                                $('.phone3').css({display: "none"})
                                $('.phone4').css({display: "none"})

                            } else
                            {
                                $('.phone3').css({display: "flex", color: "red"})
                                $('.phone4').css({display: "none"})
                                $('.phone5').css({display: "none"})
                                input1.value=""

                            }
                        } else {

                            $('.phone4').css({display: "flex", color: "red"})
                            $('.phone3').css({display: "none"})
                            $('.phone5').css({display: "none"})


                        }
                    }


                    $(".dl1").click(function () {
                        $('.phone3').css({display: "none"})
                        $('.phone4').css({display: "none"})
                        $('.phone5').css({display: "none"})

                        if($('.input3').val().length>0){

                            if($('.input4').val().length>0){
                                document.querySelector(".login_box").style.display="";
                                window.history.back();
                            }
                        }else {

                            document.querySelector(".login_box").style.display="block";

                        }

                        document.querySelector(".input3").value="";
                        document.querySelector(".input4").value="";


                    })

                    $(".dl11").click(function () {
                        $('.form').css({opacity:"0"})
                        $('.er').css({opacity:"1"})
                    })
                    $('.dl111').click(function () {
                        $('.form').css({opacity:"1"})
                        $('.er').css({opacity:"0"})
                    })
                    $('.login_close').click(function () {
                        window.history.back();
                    })

                </script>
            </div>
            <div id="wx">
                <img src="images/er.jpg" alt="" style="" >
            </div>
        </div>
    </div>
</div>

<script>
    //	-------------------登录-------------------


    var box=document.querySelector(".login_box");


    /*--------登录窗口中切换登录方式的效果----------*/

    var login_tog_btn=document.querySelectorAll(".login_tog span");

    var login_tog_box=document.querySelectorAll(".login_tog_box>div");



    function tog(index){
        login_tog_btn[index].onclick=function(){
            //在实现点击按钮颜色变化前，先要把所有的按钮颜色进行清空
            login_tog_btn[0].className=""
            login_tog_btn[1].className=""
            login_tog_btn[2].className=""
            //让你点击的按钮有颜色
            login_tog_btn[index].className="active"

            //在实现盒子显示之前，先让所有的盒子都隐藏
            login_tog_box[0].className="";
            login_tog_box[1].className="";
            login_tog_box[2].className="";
            //让对应的盒子显示
            login_tog_box[index].className="show";
        }
    }
    tog(0)
    tog(1)
    tog(2)

</script>

</body>

</html>
